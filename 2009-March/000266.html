<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Rdiffweb-discuss] &quot;Access is Denied&quot; in root of backup
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/rdiffweb-discuss/2009-March/index.html" >
   <LINK REL="made" HREF="mailto:rdiffweb-discuss%40lists.berlios.de?Subject=Re%3A%20%5BRdiffweb-discuss%5D%20%22Access%20is%20Denied%22%20in%20root%20of%20backup&In-Reply-To=%3C262679b50903251231l2df476derb724a2f94c875fe5%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000265.html">
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Rdiffweb-discuss] &quot;Access is Denied&quot; in root of backup</H1>
    <B>Damon Timm</B> 
    <A HREF="mailto:rdiffweb-discuss%40lists.berlios.de?Subject=Re%3A%20%5BRdiffweb-discuss%5D%20%22Access%20is%20Denied%22%20in%20root%20of%20backup&In-Reply-To=%3C262679b50903251231l2df476derb724a2f94c875fe5%40mail.gmail.com%3E"
       TITLE="[Rdiffweb-discuss] &quot;Access is Denied&quot; in root of backup">damontimm at gmail.com
       </A><BR>
    <I>Wed Mar 25 20:31:37 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="000265.html">[Rdiffweb-discuss] &quot;Access is Denied&quot; in root of backup
</A></li>
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#266">[ date ]</a>
              <a href="thread.html#266">[ thread ]</a>
              <a href="subject.html#266">[ subject ]</a>
              <a href="author.html#266">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hmm -

Python 2.5.2 (r252:60911, Jul 31 2008, 17:31:22)
[GCC 4.2.3 (Ubuntu 4.2.3-2ubuntu7)] on linux2
Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.
&gt;&gt;&gt;<i> import os
</I>&gt;&gt;&gt;<i> print os.path.realpath(&quot;/mnt/backup/daily/home&quot;)
</I>/mnt/backup/daily/home
&gt;&gt;&gt;<i>
</I>
Odd ?  Seems okay ... could it have anything to do with the
permissions of the rdiff-bacukp-data file ?

Again:

$ ls -la /mnt/backup/daily/
total 32
drwxr-xr-x  5 root root  4096 2009-03-24 06:52 .
drwxr-xr-x  3 root root  4096 2009-02-23 12:14 ..
drwxr-xr-x  2 root root  4096 2009-02-24 21:19 .AppleDB
drwxr-xr-x 13 root root  4096 2009-03-24 17:05 home
drwx------  2 root root 16384 2009-02-24 20:47 lost+found

Thanks for working with me on it.

On Wed, Mar 25, 2009 at 3:24 PM, Josh Nisly &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/rdiffweb-discuss">rdiffweb at joshnisly.com</A>&gt; wrote:
&gt;<i> The error is coming from rdiffWeb's path validation. For some reason, it
</I>&gt;<i> thinks that something is suspicious with the path.
</I>&gt;<i>
</I>&gt;<i> Try running the following command from the command line, and see what it
</I>&gt;<i> returns. If it returns something other than &quot;/mnt/backup/daily/home&quot;,
</I>&gt;<i> then something is wrong.
</I>&gt;<i>
</I>&gt;<i> python -c &quot;import os; print os.path.realpath('/mnt/backup/daily/home')&quot;
</I>&gt;<i>
</I>&gt;<i> Thanks,
</I>&gt;<i> Josh Nisly
</I>&gt;<i>
</I>&gt;<i> Damon Timm wrote:
</I>&gt;&gt;<i> Hi -
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> The backup path is: /mnt/backup/daily/home/ ... /mnt/backup/daily/ is
</I>&gt;&gt;<i> the system mount point for the ext3 device. &#160;home/ is not a symlink,
</I>&gt;&gt;<i> just a directory.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Thanks for your quick reply. &#160;My only thought is that because I run
</I>&gt;&gt;<i> the rdiff-backup as &quot;root&quot; that I can't view it ... but is odd I can
</I>&gt;&gt;<i> view everything else above it.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> D
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On Wed, Mar 25, 2009 at 3:01 PM, Josh Nisly &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/rdiffweb-discuss">rdiffweb at joshnisly.com</A>&gt; wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Are there symlinks in any part of the path?
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> JoshN
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Damon Timm wrote:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> Hi everyone -
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> Just started using rdiffWeb ((0.6.3)) -- it works awesome!
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> The only problem I am having is that I get an &quot;Access is Denied&quot; error
</I>&gt;&gt;&gt;&gt;<i> whenever I view the root &quot;/&quot; of my backup. &#160;When I view this address I
</I>&gt;&gt;&gt;&gt;<i> get the error: <A HREF="http://localhost:8080/browse/?repo=/&amp;path=/">http://localhost:8080/browse/?repo=/&amp;path=/</A>
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> However, if I go to any sub-directories, everything lists without a
</I>&gt;&gt;&gt;&gt;<i> problem: <A HREF="http://localhost:8080/browse/?repo=/&amp;path=/damon/">http://localhost:8080/browse/?repo=/&amp;path=/damon/</A>
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> I can also download and view all the files in these sub-directories.
</I>&gt;&gt;&gt;&gt;<i> But I can't view the root folder !
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> Here is the output I see on the command line ...
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> [25/Mar/2009:14:48:05] HTTP Serving HTTP on <A HREF="http://0.0.0.0:8080/">http://0.0.0.0:8080/</A>
</I>&gt;&gt;&gt;&gt;<i> /var/lib/python-support/python2.5/cherrypy/lib/encoding.py:197:
</I>&gt;&gt;&gt;&gt;<i> DeprecationWarning: 'l' format requires -2147483648 &lt;= number &lt;=
</I>&gt;&gt;&gt;&gt;<i> 2147483647
</I>&gt;&gt;&gt;&gt;<i> &#160; yield struct.pack(&quot;&lt;l&quot;, crc)
</I>&gt;&gt;&gt;&gt;<i> ::ffff:192.168.0.127 - - [25/Mar/2009:14:48:11] &quot;GET / HTTP/1.1&quot; 200 527 &quot;&quot; &quot;&quot;
</I>&gt;&gt;&gt;&gt;<i> ::ffff:192.168.0.127 - - [25/Mar/2009:14:48:19] &quot;POST /login HTTP/1.1&quot;
</I>&gt;&gt;&gt;&gt;<i> 303 87 &quot;&quot; &quot;&quot;
</I>&gt;&gt;&gt;&gt;<i> ::ffff:192.168.0.127 - - [25/Mar/2009:14:48:19] &quot;GET / HTTP/1.1&quot; 200 511 &quot;&quot; &quot;&quot;
</I>&gt;&gt;&gt;&gt;<i> ::ffff:192.168.0.127 - - [25/Mar/2009:14:48:24] &quot;GET
</I>&gt;&gt;&gt;&gt;<i> /browse/?repo=/&amp;path=/ HTTP/1.1&quot; 200 308 &quot;&quot; &quot;&quot;
</I>&gt;&gt;&gt;&gt;<i> ::ffff:192.168.0.127 - - [25/Mar/2009:14:48:33] &quot;GET
</I>&gt;&gt;&gt;&gt;<i> /browse/?repo=/&amp;path=/damon/ HTTP/1.1&quot; 200 1547 &quot;&quot; &quot;&quot;
</I>&gt;&gt;&gt;&gt;<i> [25/Mar/2009:14:50:59] ENGINE &lt;Ctrl-C&gt; hit: shutting down app engine
</I>&gt;&gt;&gt;&gt;<i> [25/Mar/2009:14:50:59] HTTP HTTP Server shut down
</I>&gt;&gt;&gt;&gt;<i> [25/Mar/2009:14:50:59] ENGINE CherryPy shut down
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> Here are the permissions of the backup folder:
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> drwxr-xr-x 13 root &#160;root &#160;4096 2009-03-24 17:05 .
</I>&gt;&gt;&gt;&gt;<i> drwxr-xr-x &#160;5 root &#160;root &#160;4096 2009-03-24 06:52 ..
</I>&gt;&gt;&gt;&gt;<i> drwxr-xr-x &#160;2 root &#160;root &#160;4096 2009-03-24 17:05 .AppleDB
</I>&gt;&gt;&gt;&gt;<i> drwxr-xr-x 25 damon damon 4096 2009-03-24 20:40 damon
</I>&gt;&gt;&gt;&gt;<i> drwx------ &#160;2 root &#160;root &#160;4096 2009-02-12 14:40 lost+found
</I>&gt;&gt;&gt;&gt;<i> drwxrwsr-x &#160;7 root &#160;tps &#160; 4096 2009-03-09 14:02 media
</I>&gt;&gt;&gt;&gt;<i> drwx------ &#160;3 root &#160;root &#160;4096 2009-03-24 22:13 rdiff-backup-data
</I>&gt;&gt;&gt;&gt;<i> drwxrwsr-x 11 damon tps &#160; 4096 2009-03-08 19:17 rlshow
</I>&gt;&gt;&gt;&gt;<i> drwxr-xr-x 21 rosa &#160;rosa &#160;4096 2009-03-01 11:33 rosa
</I>&gt;&gt;&gt;&gt;<i> drwxrwsr-x 15 root &#160;tps &#160; 4096 2009-03-22 16:17 tps
</I>&gt;&gt;&gt;&gt;<i> drwxrwxrwt &#160;4 root &#160;root &#160;4096 2009-03-04 16:01 .vmware
</I>&gt;&gt;&gt;&gt;<i> drwxrwsr-x &#160;5 root &#160;tps &#160; 4096 2009-03-22 07:30 www
</I>&gt;&gt;&gt;&gt;<i> drwxrwxr-x 16 damon tps &#160; 4096 2009-03-21 18:24 www-orig
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> Any ideas ?
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> Thanks!
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> Damon
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Rdiffweb-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/rdiffweb-discuss">Rdiffweb-discuss at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/rdiffweb-discuss">https://lists.berlios.de/mailman/listinfo/rdiffweb-discuss</A>
</I>&gt;<i>
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000265.html">[Rdiffweb-discuss] &quot;Access is Denied&quot; in root of backup
</A></li>
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#266">[ date ]</a>
              <a href="thread.html#266">[ thread ]</a>
              <a href="subject.html#266">[ subject ]</a>
              <a href="author.html#266">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/rdiffweb-discuss">More information about the Rdiffweb-discuss
mailing list</a><br>
</body></html>
