<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Rdiffweb-discuss] handle new dirs,	500 internal error and UserRoot
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/rdiffweb-discuss/2007-April/index.html" >
   <LINK REL="made" HREF="mailto:rdiffweb-discuss%40lists.berlios.de?Subject=Re%3A%20%5BRdiffweb-discuss%5D%20handle%20new%20dirs%2C%0A%09500%20internal%20error%20and%20UserRoot&In-Reply-To=%3C46141749.2060509%40joshnisly.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000114.html">
   <LINK REL="Next"  HREF="000124.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Rdiffweb-discuss] handle new dirs,	500 internal error and UserRoot</H1>
    <B>Josh Nisly</B> 
    <A HREF="mailto:rdiffweb-discuss%40lists.berlios.de?Subject=Re%3A%20%5BRdiffweb-discuss%5D%20handle%20new%20dirs%2C%0A%09500%20internal%20error%20and%20UserRoot&In-Reply-To=%3C46141749.2060509%40joshnisly.com%3E"
       TITLE="[Rdiffweb-discuss] handle new dirs,	500 internal error and UserRoot">rdiffweb at joshnisly.com
       </A><BR>
    <I>Wed Apr  4 23:23:21 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000114.html">[Rdiffweb-discuss] handle new dirs, 500 internal error and UserRoot
</A></li>
        <LI>Next message: <A HREF="000124.html">[Rdiffweb-discuss] handle new dirs,	500 internal error and	UserRoot
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#118">[ date ]</a>
              <a href="thread.html#118">[ thread ]</a>
              <a href="subject.html#118">[ subject ]</a>
              <a href="author.html#118">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Christoph Langbein wrote:
&gt;<i> Hello,
</I>&gt;<i> to go like a bull at a gate: I'm having trouble with the current svn
</I>&gt;<i> version. 
</I>&gt;<i> If there is a path for a directory configured in rdw.conf that has never
</I>&gt;<i> been initialized (never run rdiff-backup).
</I>&gt;<i> Maybe this is the 500 Internal error message asked here in the list in
</I>&gt;<i> march.
</I>&gt;<i> I get this error messages:
</I>&gt;<i> Page handler: &lt;bound method rdiffLocationsPage.index of
</I>&gt;<i> &lt;rdiffWeb.page_locations.rdiffLocationsPage instance at 0xa78af34c&gt;&gt;
</I>&gt;<i> Traceback (most recent call last):
</I>&gt;<i>   File &quot;/var/lib/python-support/python2.4/cherrypy/_cphttptools.py&quot;, line 105, in _run
</I>&gt;<i>     self.main()
</I>&gt;<i>   File &quot;/var/lib/python-support/python2.4/cherrypy/_cphttptools.py&quot;, line 254, in main
</I>&gt;<i>     body = page_handler(*virtual_path, **self.params)
</I>&gt;<i>   File &quot;/usr/lib/python2.4/site-packages/rdiffWeb/page_locations.py&quot;, line 13, in index
</I>&gt;<i>     repoHistory = librdiff.getLastBackupHistoryEntry(rdw_helpers.joinPaths(self.userDB.getUserRoot(self.getUsername()), userRepo))
</I>&gt;<i>   File &quot;/usr/lib/python2.4/site-packages/rdiffWeb/librdiff.py&quot;, line 287, in getLastBackupHistoryEntry
</I>&gt;<i>     return _getBackupHistory(repoRoot, 1)[0]
</I>&gt;<i> IndexError: list index out of range
</I>&gt;<i>
</I>&gt;<i> would be nice if this could be catched, as the other directories could be displayed.
</I>&gt;<i>   
</I>I can't duplicate this. There is extensive validation in place to make 
sure that this doesn't happen. Can you give more information on the 
directory that is triggering the error? Does the directory exist? If so, 
are there any subdirectories?
&gt;<i> Furthermore I've a question about UserRoot. 
</I>&gt;<i> In my opinion UserRoot is the root of all backups, but setting UserRoot to something like /backup and using UserReposPaths with relativ pathes like
</I>&gt;<i> backup1, backup2 really located under /backup/backup1 and /backup/backup2 results in access denied messages. 
</I>&gt;<i> So this is a bit confusing for me. Can someone explain this ?
</I>&gt;<i>   
</I>This is fixed in the latest subversion. Thanks for reporting it!

&gt;<i> Thanks in advance
</I>&gt;<i> Ch. Langbein
</I>&gt;<i>   
</I>Thanks,
JoshN


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000114.html">[Rdiffweb-discuss] handle new dirs, 500 internal error and UserRoot
</A></li>
	<LI>Next message: <A HREF="000124.html">[Rdiffweb-discuss] handle new dirs,	500 internal error and	UserRoot
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#118">[ date ]</a>
              <a href="thread.html#118">[ thread ]</a>
              <a href="subject.html#118">[ subject ]</a>
              <a href="author.html#118">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/rdiffweb-discuss">More information about the Rdiffweb-discuss
mailing list</a><br>
</body></html>
